{% extends "base.html" %}

{% block title %}{{ _('Add Brew Task') }} - SBMS{% endblock %}

{% block content %}
<div class="add-brew-task-page">
    <div class="page-header">
        <h1>{{ _('Add Brew Task') }}</h1>
        <h2>{{ _('Brew') }}: {{ brew.name }}</h2>
        <a href="{{ url_for('brew_detail', brew_id=brew.id) }}" class="btn btn-secondary">{{ _('Back to Brew') }}</a>
    </div>

    <form method="POST" class="brew-task-form">
        {{ form.hidden_tag() }}
        
        <div class="form-section">
            <h3>{{ _('Task Details') }}</h3>
            
            <div class="form-group">
                {{ form.scheduled_date.label(class="form-label") }}
                {{ form.scheduled_date(class="form-control") }}
                {% if form.scheduled_date.errors %}
                    <div class="form-errors">
                        {% for error in form.scheduled_date.errors %}
                            <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.action.label(class="form-label") }}
                {{ form.action(class="form-control", placeholder=_("e.g., Dry hop with Cascade, Cold crash, Transfer to keg, Bottle beer")) }}
                <small class="form-help">{{ _('Describe what needs to be done for this brew.') }}</small>
                {% if form.action.errors %}
                    <div class="form-errors">
                        {% for error in form.action.errors %}
                            <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.notes.label(class="form-label") }}
                {{ form.notes(class="form-control", rows="3", placeholder=_("Optional: Additional details, temperatures, amounts, or instructions...")) }}
            </div>
        </div>

        <div class="form-actions">
            {{ form.submit(class="btn btn-primary") }}
            <a href="{{ url_for('brew_detail', brew_id=brew.id) }}" class="btn btn-secondary">{{ _('Cancel') }}</a>
        </div>
    </form>

    <div class="info-section">
        <h3>{{ _('Common Brew Tasks') }}</h3>
        <ul class="tips-list">
            <li>{{ _('Dry hopping (2-4 days before kegging)') }}</li>
            <li>{{ _('Cold crash (2-3 days before kegging)') }}</li>
            <li>{{ _('Take final gravity reading') }}</li>
            <li>{{ _('Transfer to keg or bottles') }}</li>
            <li>{{ _('Add priming sugar (for bottle conditioning)') }}</li>
            <li>{{ _('Temperature changes for lagers') }}</li>
        </ul>
    </div>
</div>

<style>
.brew-task-form {
    max-width: 600px;
}

.page-header h2 {
    color: #666;
    font-size: 1.1em;
    margin: 0.5rem 0;
}

.form-section {
    margin-bottom: 2rem;
    padding: 1.5rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: #f9f9f9;
}

.form-section h3 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #333;
}

.form-help {
    color: #666;
    font-size: 0.85em;
    margin-top: 0.25rem;
    display: block;
}

.form-actions {
    margin-top: 2rem;
    display: flex;
    gap: 1rem;
}

.info-section {
    margin-top: 2rem;
    padding: 1.5rem;
    border: 1px solid #e3f2fd;
    border-radius: 8px;
    background: #f3f8ff;
}

.info-section h3 {
    margin-top: 0;
    color: #1565c0;
}

.tips-list {
    margin: 0;
    padding-left: 1.5rem;
}

.tips-list li {
    margin-bottom: 0.5rem;
    color: #333;
}
</style>
{% endblock %}
