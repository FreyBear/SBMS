{% extends "base.html" %}

{% block title %}{{ _('Add Dry Hop') }} - SBMS{% endblock %}

{% block content %}
<div class="add-dry-hop-page">
    <div class="page-header">
        <h1>{{ _('Add Dry Hop Schedule') }}</h1>
        <h2>{{ _('Brew') }}: {{ brew.name }}</h2>
        <a href="{{ url_for('brew_detail', brew_id=brew.id) }}" class="btn btn-secondary">{{ _('Back to Brew') }}</a>
    </div>

    <form method="POST" class="dry-hop-form">
        {{ form.hidden_tag() }}
        
        <div class="form-section">
            <h3>{{ _('Dry Hop Details') }}</h3>
            
            <div class="form-row">
                <div class="form-group half-width">
                    {{ form.scheduled_date.label(class="form-label") }}
                    {{ form.scheduled_date(class="form-control") }}
                    {% if form.scheduled_date.errors %}
                        <div class="form-errors">
                            {% for error in form.scheduled_date.errors %}
                                <span class="error">{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <div class="form-group half-width">
                    {{ form.amount_grams.label(class="form-label") }}
                    {{ form.amount_grams(class="form-control", placeholder="30.0") }}
                    {% if form.amount_grams.errors %}
                        <div class="form-errors">
                            {% for error in form.amount_grams.errors %}
                                <span class="error">{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>

            <div class="form-group">
                {{ form.ingredient.label(class="form-label") }}
                {{ form.ingredient(class="form-control", placeholder=_("e.g., Cascade, Centennial, Mosaic")) }}
                <small class="form-help">{{ _('Main ingredient or hop name for this dry hop addition.') }}</small>
                {% if form.ingredient.errors %}
                    <div class="form-errors">
                        {% for error in form.ingredient.errors %}
                            <span class="error">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.hop_variety.label(class="form-label") }}
                {{ form.hop_variety(class="form-control", placeholder=_("Optional: specific variety or blend")) }}
                <small class="form-help">{{ _('Optional: More specific hop variety information if different from ingredient name.') }}</small>
            </div>

            <div class="form-group">
                {{ form.notes.label(class="form-label") }}
                {{ form.notes(class="form-control", rows="3", placeholder=_("Optional: Any special instructions, temperatures, or notes...")) }}
            </div>
        </div>

        <div class="form-actions">
            {{ form.submit(class="btn btn-primary") }}
            <a href="{{ url_for('brew_detail', brew_id=brew.id) }}" class="btn btn-secondary">{{ _('Cancel') }}</a>
        </div>
    </form>

    <div class="info-section">
        <h3>{{ _('Tips for Dry Hopping') }}</h3>
        <ul class="tips-list">
            <li>{{ _('Typical dry hop amounts: 1-4g per liter of beer') }}</li>
            <li>{{ _('Schedule 2-4 days before kegging for best aroma') }}</li>
            <li>{{ _('Consider multiple additions for complex hop profiles') }}</li>
            <li>{{ _('Keep hops at fermentation temperature') }}</li>
        </ul>
    </div>
</div>

<style>
.dry-hop-form {
    max-width: 600px;
}

.page-header h2 {
    color: #666;
    font-size: 1.1em;
    margin: 0.5rem 0;
}

.form-section {
    margin-bottom: 2rem;
    padding: 1.5rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: #f9f9f9;
}

.form-section h3 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #333;
}

.form-row {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

.half-width {
    flex: 1;
}

.form-help {
    color: #666;
    font-size: 0.85em;
    margin-top: 0.25rem;
    display: block;
}

.form-actions {
    margin-top: 2rem;
    display: flex;
    gap: 1rem;
}

.info-section {
    margin-top: 2rem;
    padding: 1.5rem;
    border: 1px solid #e3f2fd;
    border-radius: 8px;
    background: #f3f8ff;
}

.info-section h3 {
    margin-top: 0;
    color: #1565c0;
}

.tips-list {
    margin: 0;
    padding-left: 1.5rem;
}

.tips-list li {
    margin-bottom: 0.5rem;
    color: #333;
}

@media (max-width: 768px) {
    .form-row {
        flex-direction: column;
        gap: 0;
    }
    
    .half-width {
        width: 100%;
    }
}
</style>
{% endblock %}